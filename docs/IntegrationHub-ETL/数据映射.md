---
sidebar_position: 4
sidebar_label: '数据映射'
---

**关于将数据列映射到目标类和属性**

将源数据映射到目标表和属性有几个要求和准则。此外，还有一个选项可以停用类映射，同时保留设置以便于重新激活。

**必需的映射**

除了映射到额外要求配置的属性之外，还必须将数据映射到目标类的所有必需属性。
此外，默认情况下会显示以下两个字段，您无法删除它们：
* **源数据主键**

  用于唯一标识记录并建立关系和引用。此外，还提高了插入和更新操作的性能。处理有效负载时，如果此字段为空，将生成错误。

* **源数据时间戳**

  可以忽略，用于识别比当前记录更早的记录，以帮助解决冲突的属性值。如果提供了值，则仅当它晚于当前存储在目标表中的值时才使用它。
如果未提供值，则使用当前时间戳更新属性。

* **条件类**

  条件类允许您根据特定列值或特定插件的状态将不同的数据记录集映射到不同的目标类。 
  例如，如果显示名称包含"Windows"，则选择"Windows Server"作为目标类。但如果显示名称包含"Linux"，则选择"Linux Server"作为目标类。 
  对于不满足任何这些条件的记录（显示名称不包含“Windows”或“Linux”），选择"服务器"作为目标类。
  
**将数据列映射到类和属性**

  选择要将源数据列映射到的目标类和属性。您可以将数据列映射到特定的目标类，或添加条件，以便根据特定的数据值选择目标类。

**关于此任务**

映射的数据列可以是未转换的源数据列，也可以是已转换的数据列。

例如，要将数据列集成到计算机和软件包类中，请选择这些类作为目标类，然后将数据列映射到这些类中的特定属性。

* **步骤**

1. 导航到**全部>配置>集成中心ETL**，然后单击集成的**名称**。
2. 在ETL转换页面中，在 **映射和增加关系数据** 部分，选择 **映射表**。
   系统会记录在平台中根据需要配置的属性，并且必须将数据列映射到这些属性中的每个属性。
3. 单击 **添加类** 按钮添加要映射到的目标类，或单击 **编辑类** 按钮编辑类。

    a. 在“添加类”对话框中，选择一个**类**。 
   
    b. 点击**保存**。

    c.（可选）将类的 **激活/停用映射** 切换开关设置为打开或关闭。
4. 单击**添加映射**，指定不同条件选择不同的目标类。
    
    a. 在**添加映射**对话框中，指定要将数据映射到各种目标类必须满足的条件。
       在**选择字段**列表中，选择数据值必须满足的属性条件。
   
       数据记录根据满足的条件映射到不同的目标类。
    
    b. 点击创建
    
    c.（可选）将条件类的 **激活/停用映射** 切换开关设置为打开或关闭。
    
    d.（可选）单击 **修改类** 以编辑条件类的设置。 在 修改映射 对话框中，将类映射的 **激活/停用映射** 切换开关。点击**保存**。
5. 单击 **添加映射** 为新添加的类配置映射，或单击 **修改映射** 编辑映射。
    
    a. 单击图标以搜索并选择映射的数据列进行映射。
    
    b. 单击**添加属性**。然后，在"添加属性"对话框中，从**属性**列表中，选择一个或多个项目作为目标属性以将数据映射到。 
       关闭 **属性列表** 列表并单击 **保存**。

    c.（可选）单击转换数据选项卡以导航到预览数据，您可以在其中查看和进一步转换要映射的数据。

    d. 返回"选择目标类进行映射"页面。
6. 点击标记完成。
