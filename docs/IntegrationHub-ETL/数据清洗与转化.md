---
sidebar_position: 3
sidebar_label: '数据清洗与转化'
---
# 预览和准备数据

预览导入的数据源数据。如果需要可以通过设置转化类型，将数据进行转化为需要的字段从而与目标类字段属性对其

## 准备阶段

预览数据列表的pageSize会由系统属性sn_int_studio.preview.size决定，默认情况下设置为100。
集成HubETL可以处理的样本数据中的最大记录数为10,000条。如果您将该属性设置为超过10,000条的限制，
那么集成hubETL将只处理最多10,000条记录，并且会显示一条消息。

导航 系统集成 -> 数据集成 -> 数据清洗

## 新增转换

单击"新建"，提供了**源数据列转换**，**表查询**，**列固定值转换**三种转换规则。

### 源数据列转换
| **操作类型** | **描述**                                                         |
| ----------------|----------------------------------------------------------------|
| concatenation   | 合并操作。将两给字段合并为一个。通过join String合并符进行合并。           |
|     Split           | 拆分符。选择将某个字段拆分为多个字段，拆分字段数量与示例有关。默认示例为字段的第一行数据，可修改。
| convert to date | 转换为日期。可根据**源时间戳格式**自定义转换后的数据格式
| Script Operation | 脚本转换单指单个输入/输出的情况，可以灵活的通过脚本控制输出结果。for循环内代码可以随意改动，不过脚本会根据batch与output进行映射与数据回显。如果输出列为空或者Undefined，请考虑是否脚本写法问题。
|Multiple Input Script |多输入，单输出脚本。针对多个输入列拼凑的情况，与Script Operation类似|
|Multiple Input/Output Script|多输入多输出脚本。针对多个输入列和多个输出列的情况，与Script Operation类似|

### 表查询

输出值根据匹配表的多个条件字段匹配。匹配成功后转化为输出列

|     **字段**          |             **描述**                                         |
| ------------------|----------------------------------------------------------------|
| 匹配表      | 用于与正在映射的数据进行匹配的表。|
| 匹配条件 | 一组列条件对。每对指定查找表中的列和映射数据中的列，试图匹配。 可以选择多组|
|    如果目标表列的值    | 目标表中的列与映射数据中的列匹配的列 |
|    匹配源数据表的值    | 映射数据中的列，以匹配查找表中的列。 |
|    从以下列输出值    | 如果匹配条件都匹配到了，则根据匹配表的字段进行输出 |
| 输出列名 | 匹配表列到输出值会被写入到输出列名中进行显示|


### 列固定值转换

在**列固定值转换**侧边栏中，输入**列输出名**和**描述**。然后，将“指定目标输出”设置为针对新列的固定值。

## 编辑转换

只有**新增**的转换字段才允许进行编辑，源字段无法进行编辑

## 删除编辑

删除字段时，会根据当前字段去查询关联字段。如果当前字段作为其他字段的源字段。则会同步删除掉与之关联的目标字段。
如果当前字段作为目标字段时，存在兄弟字段。则其兄弟字段也会被同步删除。

单击“保存”以保存当前的更改或“标记为已完成”。
