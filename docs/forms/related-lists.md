---
sidebar_position: 3
sidebar_label: '关联列'
---

关联列表是Jet平台中的强大工具，用于显示数据和工作。它们显示在表单下方，并且可以显示您想要的任何记录，这些记录以某种方式与您在表单中查看的记录相关联。
  

有多种方法可以将一条记录关联到另一条记录，包括您可以使用 JavaScript 创建的自定义关系。不过，我们已经完成了关联两条记录的最简单和最常用的方法。通过**引用字段**实现！
  

要了解相关列表是如何工作的，您首先必须了解 Jet平台 的一个关键组件：**Keys**！
  
  

在数据库中，能够通过一些关键信息将一条记录与另一条记录区分开来是很重要的。这是驻留在数据库列中的唯一值。此列称为该表的主键。在Jet平台中，主键称为Sys ID，存储在数据库列sys_id中。这是一个 32 个字符的字母数字值，在整个数据库中是唯一的。任何两条记录（无论是表）都不应该共享一个 Sys ID。
  

**引用字段**是一个数据库列，用于接受来自另一条记录的主键 ( Sys ID )，通常在另一个表中。 这样，两条记录就相关了。这称为一对多或父子关系。实际上，Task我们的Virtual War Room表继承了表上的一个字段，称为父字段，它就是为这种类型的关系而设计的；尽管在这种情况下我们没有使用它。
  

**提示**

在数据库用语中，当您的表有一个列用于接受另一条记录的主键时，该列是称为外键。
  

当我们创建表中的**Major incident**引用字段，我们在Incident表中的记录和表中的记录Virtual War Room之间创建了关系。通过查看**Major incident**字段，我们可以很容易地从表单中看到关联的incident；但是，如果我们想从Incident表中查看任何相关的virtual war room记录怎么办？为此，我们需要使用关联列表。
1. 开始，请导航到Incident表。不要将您的更改保存到virtual war room记录。尝试通过incident.list在应用程序导航器文本过滤器框中键入导航，然后按Enter！
2. 单击该列表中的任何事件记录以打开该记录的事件表单。
3. 右键单击该表单的标题，然后转到**配置关联列表**：  

![关联列表](/img/forms/related-list.jpg)  

4. 向下滚动在可用框中，直到您看到Virtual War Room | Incident，然后勾选它，点击向右箭头，然后单击保存。

**提示**  

Jet平台 中一些最有用的信息是过去的样子、更新时间以及更新者。对于已审计的表中的任何记录（更新集中跟踪的任何表），您可以在配置|下找到版本相关列表。表格上的相关列表。
  

您现在应该在incident表单底部看到virtual war room相关列表，它应该是空的。这意味着此特定incident记录没有任何与之关联的virtual war room记录。让我们继续通过单击该相关列表下的绿色“新建”按钮来解决此问题。
  

您应该被带到该Virtual War Room表的新记录表单，并且**Major Incident**字段应该自动填充我们刚刚处理的事件编号。请注意，虽然您可以使事件表中的 Number 字段唯一，这样就不会出现重复项，但它不是主键。那是Sys ID。

**笔记**  

在本章的表单设计器部分，我们了解了Task表（以及扩展它的表）上的State字段实际上是一个整数字段，并且每个整数值都有一个标签，例如**Open**或**Work in Progress**，但该字段中的实际值仍然是整数。引用字段是相似的，尽管您在引用字段中看到记录的显示值。它包含的实际值是 Sys ID。由于Incident表的Number列设置为显示值，我们将在Major incident引用字段中看到incident的Number值。但是，如果我们将short description字段改为显示值，那么我们将在此和任何包含incident的引用字段中看到它而不是Number字段。  


就像我们之前所做的一样，用任意信息填写virtual war room记录。您应该注意到，记录中的short description字段也自动填充了incident记录中的short description值。让我们看看如果我们更改从另一条记录派生的字段的值会发生什么。继续将单词testing添加到到short description的末尾。  


填写完一些信息并更改short description后，右键单击标题并单击保存。  


**笔记** 

请注意，以这种方式创建incident记录时，我们实际上绕过了在Major incident引用字段上创建的引用限定符！如果我们清除该字段中的值，系统将不会让我们重新填充它，但重要的是要注意，当从子记录中获取它并以这种方式创建父记录时，我们可以绕过参考限定符。您可以通过从相关列表的列表控件中删除创建新记录的选项来防止这种情况发生，但我们将在后面的章节中讨论这一点。  


当表单重新加载时，您会在**Major incident**字段的右侧看到一个参考图标；它看起来像一个圆圈内的小写字母i 。单击该图标以转到我们之前处理的事件，然后滚动到底部。您现在应该看到我们新创建的virtual war room！这是因为表中现在有一条记录与此关联列表的默认查询匹配，您可以在过滤器图标的右侧看到它。


这一切都很棒，您可以想象关联列表功能的无数用途，但我们只会在**Major incident**上使用**virtual war room**，而且这种情况非常罕见。幸运的是，我们可以轻松控制关联列表何时出现！要查看如何操作，请右键单击关联列表中的列表列标题行，然后转到**配置| 列表控件**。  


在列表的右侧控件表单，您可以选择需要哪些角色才能查看“新建”或“编辑”按钮、过滤器，甚至相关列表中的链接。在左侧，您可以看到几个完全省略新按钮、省略编辑按钮和其他组件的选项。不过，我们感兴趣的选项是Omit if empty复选框。勾选该框，然后单击提交以返回事件表单。  


现在，当访问没有与之关联的virtual war room的incident时，您将看不到关联列表！  


  





